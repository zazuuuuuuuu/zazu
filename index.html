<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Zazu Boom</title>
  <style>
    html, body {
      margin: 0; padding: 0; height: 100%; overflow: hidden;
      background-image: url('https://i.pinimg.com/736x/b7/31/4d/b7314d5d391c4425d2856dddf7fc6d5b.jpg');
      background-size: cover; background-position: center;
      font-family: Arial, sans-serif;
    }
    #emoji-text {
      position: absolute; top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      font-size: 50px; color: white; font-weight: bold;
      text-shadow: 2px 2px 5px black; z-index: 9999;
      animation: pulse 1s infinite alternate;
      text-align: center;
    }
    @keyframes pulse {
      from { transform: translate(-50%, -50%) scale(1); }
      to   { transform: translate(-50%, -50%) scale(1.2); }
    }
    #cat {
      position: absolute; width: 150px; height: 150px;
      pointer-events: none; z-index: 10;
    }
    .pop-img {
      position: absolute; width: 80px; height: 80px;
      opacity: 0.9; pointer-events: none; z-index: 5;
      transition: transform 0.2s ease;
    }
    #start-message {
      position: absolute; bottom: 20px; left: 50%;
      transform: translateX(-50%);
      color: white; font-size: 18px;
      background: rgba(0,0,0,0.5);
      padding: 10px 20px; border-radius: 10px;
      z-index: 99999;
    }
  </style>
</head>
<body>

  <div id="emoji-text">C'est moi Zazu ðŸ˜Ž</div>
  <img id="cat" src="https://i.kym-cdn.com/entries/icons/original/000/050/540/zazu.png" alt="Zazu" />

  <!-- Audio amÃ©liorÃ© avec lien externe -->
  <audio id="sound" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" preload="auto" autoplay muted loop></audio>

  <div id="start-message">ðŸ”Š Tape nâ€™importe oÃ¹ pour activer le son</div>

  <script>
    const cat = document.getElementById('cat');
    let posX = 100, posY = 100;
    let speedX = 3, speedY = 2;

    function animateCat() {
      posX += speedX;
      posY += speedY;

      if (posX <= 0 || posX + cat.clientWidth >= window.innerWidth) speedX *= -1;
      if (posY <= 0 || posY + cat.clientHeight >= window.innerHeight) speedY *= -1;

      cat.style.left = posX + 'px';
      cat.style.top = posY + 'px';

      requestAnimationFrame(animateCat);
    }
    animateCat();

    const popImageURL = 'https://th.bing.com/th/id/OIP.TjqYbqfQplNlZBC_5aVtawAAAA?w=171&h=180&c=7&r=0&o=5&dpr=1.3&pid=1.7';
    let interval = 1000;
    const minInterval = 50;
    const acceleration = 50;

    function spawnPopImage() {
      const img = document.createElement('img');
      img.src = popImageURL;
      img.className = 'pop-img';

      const x = Math.random() * (window.innerWidth - 80);
      const y = Math.random() * (window.innerHeight - 80);

      img.style.left = `${x}px`;
      img.style.top = `${y}px`;

      document.body.appendChild(img);

      setTimeout(() => {
        img.remove();
      }, 5000);
    }

    function startPopSpam() {
      const spammer = setInterval(() => {
        spawnPopImage();

        if (interval > minInterval) {
          interval -= acceleration;
          clearInterval(spammer);
          startPopSpam();
        }
      }, interval);
    }
    startPopSpam();

    const audio = document.getElementById("sound");
    const startMessage = document.getElementById("start-message");

    function startAudio() {
      audio.muted = false;        // EnlÃ¨ve le mute
      audio.volume = 0.2;         // Volume modÃ©rÃ©
      audio.play().catch(() => {
        console.log("Lecture audio bloquÃ©e, lâ€™utilisateur doit interagir.");
      });
      startMessage.remove();
      document.removeEventListener('click', startAudio);
      document.removeEventListener('touchstart', startAudio);
    }

    document.addEventListener('click', startAudio);
    document.addEventListener('touchstart', startAudio);
  </script>

</body>
</html>
